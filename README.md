# OneShop - Website BÃ¡n Má»¹ Pháº©m Trá»±c Tuyáº¿n

Dá»± Ã¡n **OneShop** lÃ  má»™t á»©ng dá»¥ng web thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ hoÃ n chá»‰nh, Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i má»¥c tiÃªu cung cáº¥p má»™t ná»n táº£ng bÃ¡n má»¹ pháº©m trá»±c tuyáº¿n. 
Dá»± Ã¡n nÃ y tÃ­ch há»£p Ä‘áº§y Ä‘á»§ cÃ¡c chá»©c nÄƒng tá»« quáº£n lÃ½ sáº£n pháº©m, tÆ°Æ¡ng tÃ¡c ngÆ°á»i dÃ¹ng, Ä‘áº¿n xá»­ lÃ½ giao dá»‹ch, táº¡o nÃªn má»™t giáº£i phÃ¡p thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ máº¡nh máº½ vÃ  thÃ¢n thiá»‡n.

## ğŸ¯ Tá»•ng quan (Overview)

Dá»± Ã¡n Ä‘Æ°á»£c xÃ¢y dá»±ng trÃªn ná»n táº£ng **Java Spring Boot**, sá»­ dá»¥ng **Spring Data JPA** Ä‘á»ƒ tÆ°Æ¡ng tÃ¡c vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u **SQL Server**, vÃ  **Thymeleaf** káº¿t há»£p **Bootstrap 5** Ä‘á»ƒ xÃ¢y dá»±ng giao diá»‡n ngÆ°á»i dÃ¹ng. Há»‡ thá»‘ng cÅ©ng tÃ­ch há»£p **Spring Security** Ä‘á»ƒ xá»­ lÃ½ xÃ¡c thá»±c, phÃ¢n quyá»n vÃ  mÃ£ hÃ³a máº­t kháº©u, cÃ¹ng vá»›i **Spring Mail** Ä‘á»ƒ gá»­i mÃ£ OTP.

## âœ¨ TÃ­nh nÄƒng ná»•i báº­t

Dá»± Ã¡n Ä‘Æ°á»£c phÃ¢n chia thÃ nh hai khu vá»±c chÃ­nh: giao diá»‡n cho khÃ¡ch hÃ ng (User) vÃ  trang quáº£n trá»‹ (Admin).

### 1\. Chá»©c nÄƒng chung

  * **XÃ¡c thá»±c:** ÄÄƒng kÃ½ (vá»›i mÃ£ OTP xÃ¡c thá»±c qua Email), ÄÄƒng nháº­p, ÄÄƒng xuáº¥t.
  * **Báº£o máº­t:** QuÃªn máº­t kháº©u (láº¥y láº¡i báº±ng OTP qua Email), mÃ£ hÃ³a máº­t kháº©u ngÆ°á»i dÃ¹ng (sá»­ dá»¥ng Spring Security).
  * **TÆ°Æ¡ng tÃ¡c:** TÃ¬m kiáº¿m sáº£n pháº©m, lá»c sáº£n pháº©m nÃ¢ng cao.

### 2\. Giao diá»‡n NgÆ°á»i dÃ¹ng (User)

  * **Trang chá»§ & Shop:** Hiá»ƒn thá»‹ sáº£n pháº©m (sáº£n pháº©m má»›i, bÃ¡n cháº¡y, Ä‘Ã¡nh giÃ¡ cao) vá»›i cÆ¡ cháº¿ phÃ¢n trang.
  * **Sáº£n pháº©m:** Xem chi tiáº¿t sáº£n pháº©m, xem cÃ¡c sáº£n pháº©m liÃªn quan.
  * **Giá» hÃ ng:** Quáº£n lÃ½ giá» hÃ ng (thÃªm, sá»­a, xÃ³a) Ä‘Æ°á»£c lÆ°u trá»¯ vÃ o cÆ¡ sá»Ÿ dá»¯ liá»‡u.
  * **YÃªu thÃ­ch:** ThÃªm/xÃ³a sáº£n pháº©m khá»i danh sÃ¡ch yÃªu thÃ­ch.
  * **Thanh toÃ¡n:**
      * Quy trÃ¬nh Thanh toÃ¡n chi tiáº¿t.
      * Há»— trá»£ thanh toÃ¡n khi nháº­n hÃ ng (COD) vÃ  thanh toÃ¡n Online (VietinBank).
      * Ãp dá»¥ng mÃ£ giáº£m giÃ¡ khi thanh toÃ¡n.
  * **Quáº£n lÃ½ tÃ i khoáº£n:**
      * Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n, thay Ä‘á»•i máº­t kháº©u.
      * Quáº£n lÃ½ sá»• Ä‘á»‹a chá»‰ (thÃªm/sá»­a/xÃ³a nhiá»u Ä‘á»‹a chá»‰ nháº­n hÃ ng).
  * **Quáº£n lÃ½ Ä‘Æ¡n hÃ ng:**
      * Xem lá»‹ch sá»­ Ä‘Æ¡n hÃ ng vÃ  theo dÃµi tráº¡ng thÃ¡i (Äang xá»­ lÃ½, ÄÃ£ xÃ¡c nháº­n, Äang giao, ÄÃ£ giao, ÄÃ£ há»§y, Tráº£ hÃ ng-HoÃ n tiá»n).
  * **ÄÃ¡nh giÃ¡:** NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ Ä‘Ã¡nh giÃ¡ (bÃ¬nh luáº­n text, hÃ¬nh áº£nh/video) cho cÃ¡c sáº£n pháº©m Ä‘Ã£ mua.
  * **Chat:** TÃ­ch há»£p widget chat trá»±c tiáº¿p vá»›i Admin.

### 3\. Trang Quáº£n trá»‹ (Admin)

  * **Dashboard:** Báº£ng Ä‘iá»u khiá»ƒn tá»•ng quan, thá»‘ng kÃª doanh thu, Ä‘Æ¡n hÃ ng, ngÆ°á»i dÃ¹ng má»›i.
  * **Quáº£n lÃ½ NgÆ°á»i dÃ¹ng:** TÃ¬m kiáº¿m, xem chi tiáº¿t, thÃªm/sá»­a/xÃ³a vÃ  phÃ¢n quyá»n ngÆ°á»i dÃ¹ng.
  * **Quáº£n lÃ½ Sáº£n pháº©m:** CRUD (ThÃªm/Sá»­a/XÃ³a) sáº£n pháº©m.
  * **Quáº£n lÃ½ Thuá»™c tÃ­nh:** Quáº£n lÃ½ Danh má»¥c vÃ  ThÆ°Æ¡ng hiá»‡u.
  * **Quáº£n lÃ½ ÄÆ¡n hÃ ng:** Xem danh sÃ¡ch, tÃ¬m kiáº¿m/lá»c Ä‘Æ¡n hÃ ng, cáº­p nháº­t tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng (duyá»‡t Ä‘Æ¡n, xÃ¡c nháº­n giao hÃ ng...).
  * **Quáº£n lÃ½ Khuyáº¿n mÃ£i:** Quáº£n lÃ½ cÃ¡c chÆ°Æ¡ng trÃ¬nh giáº£m giÃ¡, mÃ£ voucher.
  * **Quáº£n lÃ½ Váº­n chuyá»ƒn:**
      * Quáº£n lÃ½ cÃ¡c nhÃ  váº­n chuyá»ƒn.
      * Thiáº¿t láº­p cÃ¡c gÃ³i cÆ°á»›c vÃ  phÃ­ váº­n chuyá»ƒn linh hoáº¡t theo tá»«ng tá»‰nh thÃ nh.
  * **Quáº£n lÃ½ Kho hÃ ng:**
      * Quáº£n lÃ½ NhÃ  cung cáº¥p.
      * Táº¡o phiáº¿u nháº­p hÃ ng.
      * Theo dÃµi sá»‘ lÆ°á»£ng tá»“n kho.
  * **Há»— trá»£:** Chat trá»±c tiáº¿p, quáº£n lÃ½ cÃ¡c cuá»™c há»™i thoáº¡i vá»›i khÃ¡ch hÃ ng.

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

  * **Backend:** Java 17, Spring Boot 3.x
  * **Frontend:** Thymeleaf, Bootstrap 5, JavaScript (jQuery)
  * **Database:** Microsoft SQL Server
  * **Data Access:** Spring Data JPA / Hibernate
  * **Security:** Spring Security (XÃ¡c thá»±c, PhÃ¢n quyá»n, MÃ£ hÃ³a máº­t kháº©u)
  * **Email:** Spring Mail (dÃ¹ng cho OTP)
  * **Build Tool:** Apache Maven

## ğŸš€ HÆ°á»›ng dáº«n cÃ i Ä‘áº·t (Getting Started)

Thá»±c hiá»‡n cÃ¡c bÆ°á»›c sau Ä‘á»ƒ cháº¡y dá»± Ã¡n trÃªn mÃ¡y cá»¥c bá»™ cá»§a báº¡n.

### 1\. YÃªu cáº§u (Prerequisites)

Äáº£m báº£o báº¡n Ä‘Ã£ cÃ i Ä‘áº·t cÃ¡c cÃ´ng cá»¥ sau:

  * **JDK 17** hoáº·c cao hÆ¡n.
  * **Apache Maven** 3.8+
  * **Microsoft SQL Server 2019** (hoáº·c cao hÆ¡n) vÃ  **SQL Server Management Studio (SSMS)**.
  * **Git**
  * Má»™t IDE Java (vÃ­ dá»¥: IntelliJ IDEA, Eclipse, VS Code).

### 2\. CÃ i Ä‘áº·t (Installation)

1.  **Clone Repository:**

    ```bash
    git clone https://github.com/DangTranAnhQuan/DoAnLapTrinhWeb.git
    ```

2.  **Checkout nhÃ¡nh `Duy`:**

    ```bash
    cd DoAnLapTrinhWeb
    git checkout Duy
    ```

3.  **Má»Ÿ dá»± Ã¡n:** Má»Ÿ dá»± Ã¡n báº±ng IDE cá»§a báº¡n vÃ  Ä‘á»£i Maven tá»± Ä‘á»™ng táº£i vá» cÃ¡c dependencies (thÆ° viá»‡n).

### 3\. Cáº¥u hÃ¬nh CÆ¡ sá»Ÿ dá»¯ liá»‡u (Database Setup)

ÄÃ¢y lÃ  bÆ°á»›c quan trá»ng nháº¥t.

1.  Má»Ÿ **SSMS** vÃ  káº¿t ná»‘i tá»›i SQL Server cá»§a báº¡n.
2.  Cháº¡y file `oneshop.sql` Ä‘á»ƒ táº¡o database `OneShop` vÃ  toÃ n bá»™ cáº¥u trÃºc báº£ng.
3.  Sau Ä‘Ã³, hÃ£y cháº¡y file `dulieumau.sql` Ä‘á»ƒ thÃªm dá»¯ liá»‡u máº«u (sáº£n pháº©m, tÃ i khoáº£n, Ä‘Æ¡n hÃ ng...) giÃºp website cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng ngay.

### 4\. Cáº¥u hÃ¬nh á»©ng dá»¥ng (Application Configuration)

1.  Äiá»u hÆ°á»›ng Ä‘áº¿n file cáº¥u hÃ¬nh: `src/main/resources/application.properties`.

2.  Cáº­p nháº­t cÃ¡c thÃ´ng tin káº¿t ná»‘i cho phÃ¹ há»£p vá»›i mÃ´i trÆ°á»ng cá»§a báº¡n:

    ```properties
    # =============================================
    # DATABASE (SQL SERVER)
    # =============================================
    # Thay Ä‘á»•i 'TEN_SERVER' vÃ  'PORT' (thÆ°á»ng lÃ  1433)
    spring.datasource.url=jdbc:sqlserver://TEN_SERVER:PORT;databaseName=OneShop;encrypt=true;trustServerCertificate=true;
    # Thay Ä‘á»•i username vÃ  password cá»§a SQL Server
    spring.datasource.username=sa
    spring.datasource.password=12345

    # =============================================
    # SPRING MAIL (DÃ™NG CHO OTP)
    # =============================================
    # Sá»­ dá»¥ng tÃ i khoáº£n Gmail cá»§a báº¡n
    spring.mail.host=smtp.gmail.com
    spring.mail.port=587
    spring.mail.username=your-email@gmail.com
    # QUAN TRá»ŒNG: ÄÃ¢y lÃ  Máº­t kháº©u á»©ng dá»¥ng (App Password) cá»§a Google, khÃ´ng pháº£i máº­t kháº©u email
    spring.mail.password=your-google-app-password 
    ```

### 5\. Cháº¡y á»©ng dá»¥ng (Usage)

Sau khi hoÃ n táº¥t cÃ i Ä‘áº·t vÃ  cáº¥u hÃ¬nh:

1.  TÃ¬m vÃ  cháº¡y file `OneShopApplication.java` tá»« IDE cá»§a báº¡n.
2.  *Hoáº·c* cháº¡y báº±ng Maven:
    ```bash
    mvn spring-boot:run
    ```
3.  Truy cáº­p á»©ng dá»¥ng:
      * **Trang User:** `http://localhost:8080`
      * **Trang Admin:** `http://localhost:8080/admin`
      * **TÃ i khoáº£n Admin (máº«u):** `admin@oneshop.com` (Máº­t kháº©u Ä‘Æ°á»£c mÃ£ hÃ³a trong file `dulieumau.sql` lÃ  `admin123`)

## ğŸ“‚ Cáº¥u trÃºc thÆ° má»¥c (Project Structure)

DÆ°á»›i Ä‘Ã¢y lÃ  cáº¥u trÃºc cÃ¡c thÆ° má»¥c quan trá»ng cá»§a dá»± Ã¡n:

```
OneShop
 â”£ src/main/java/nhom17/OneShop
 â”ƒ â”£ config           # Cáº¥u hÃ¬nh Spring Security, MVC
 â”ƒ â”£ controller       # Xá»­ lÃ½ request (Admin, User, Auth...)
 â”ƒ â”£ dto              # Data Transfer Objects (Ä‘á»‘i tÆ°á»£ng truyá»n dá»¯ liá»‡u)
 â”ƒ â”£ entity           # CÃ¡c Entity (Ã¡nh xáº¡ báº£ng trong CSDL)
 â”ƒ â”£ exception        # Xá»­ lÃ½ ngoáº¡i lá»‡ tÃ¹y chá»‰nh
 â”ƒ â”£ repository       # Interfaces cá»§a Spring Data JPA
 â”ƒ â”£ request          # Äá»‘i tÆ°á»£ng dÃ¹ng Ä‘á»ƒ nháº­n dá»¯ liá»‡u tá»« form
 â”ƒ â”£ service          # Chá»©a logic nghiá»‡p vá»¥ (business logic)
 â”ƒ â”— OneShopApplication.java  # File cháº¡y chÃ­nh
 â”£ src/main/resources
 â”ƒ â”£ static           # TÃ i nguyÃªn tÄ©nh (CSS, JS, Images)
 â”ƒ â”ƒ â”£ admin          # (TÃ i nguyÃªn cho trang Admin)
 â”ƒ â”ƒ â”— web            # (TÃ i nguyÃªn cho trang User)
 â”ƒ â”£ templates        # Giao diá»‡n Thymeleaf
 â”ƒ â”ƒ â”£ admin          # (Giao diá»‡n trang Admin)
 â”ƒ â”ƒ â”£ user           # (Giao diá»‡n trang User)
 â”ƒ â”ƒ â”£ fragments      # (CÃ¡c thÃ nh pháº§n tÃ¡i sá»­ dá»¥ng: header, footer)
 â”ƒ â”ƒ â”— layouts        # (Layout chÃ­nh)
 â”ƒ â”— application.properties   # File cáº¥u hÃ¬nh chÃ­nh
 â”£ uploads            # ThÆ° má»¥c lÆ°u trá»¯ file Ä‘Æ°á»£c táº£i lÃªn (áº£nh sáº£n pháº©m, avatar...)
 â”— pom.xml            # File quáº£n lÃ½ thÆ° viá»‡n cá»§a Maven
```
